"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.NickName = exports.Category = exports.CategoryMetaData = void 0;
const discordx_1 = require("discordx");
class CategoryMetaData {
    static get(category) {
        return [
            ...discordx_1.MetadataStorage.instance.applicationCommandSlashes,
            ...discordx_1.MetadataStorage.instance.simpleCommands,
        ].filter((cmd) => cmd.category === category);
    }
}
exports.CategoryMetaData = CategoryMetaData;
function Category(name) {
    return function (target, key, descriptor) {
        discordx_1.MetadataStorage.instance.addModifier(discordx_1.Modifier.create((original) => {
            if (original instanceof discordx_1.DDiscord) {
                [
                    ...original.applicationCommands,
                    ...original.simpleCommands,
                ].forEach((ob) => {
                    ob.category = name;
                });
            }
            else {
                original.category = name;
            }
        }, discordx_1.DApplicationCommand, discordx_1.DSimpleCommand, discordx_1.DDiscord).decorateUnknown(target, key, descriptor));
    };
}
exports.Category = Category;
function NickName(nickname) {
    return function (target, key, descriptor) {
        discordx_1.MetadataStorage.instance.addModifier(discordx_1.Modifier.create((original) => {
            original.nickName = nickname;
        }, discordx_1.DApplicationCommand, discordx_1.DSimpleCommand).decorateUnknown(target, key, descriptor));
    };
}
exports.NickName = NickName;
//# sourceMappingURL=index.js.map