import { Modifier } from "@discordx/internal";
import { DReqeuest, DRouter, MetadataStorage } from "../../index.js";
export function Middleware(...midddleware) {
    return function (target, key, descriptor) {
        MetadataStorage.instance.addModifier(Modifier.create((original) => {
            if (original instanceof DRouter) {
                original.router.use(...midddleware);
            }
            else {
                original.middlewares = [...original.middlewares, ...midddleware];
            }
        }, DRouter, DReqeuest).decorateUnknown(target, key, descriptor));
    };
}
//# sourceMappingURL=Middleware.js.map