"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Middleware = void 0;
const internal_1 = require("@discordx/internal");
const index_js_1 = require("../../index.js");
function Middleware(...midddleware) {
    return function (target, key, descriptor) {
        index_js_1.MetadataStorage.instance.addModifier(internal_1.Modifier.create((original) => {
            if (original instanceof index_js_1.DRouter) {
                original.router.use(...midddleware);
            }
            else {
                original.middlewares = [...original.middlewares, ...midddleware];
            }
        }, index_js_1.DRouter, index_js_1.DReqeuest).decorateUnknown(target, key, descriptor));
    };
}
exports.Middleware = Middleware;
//# sourceMappingURL=Middleware.js.map