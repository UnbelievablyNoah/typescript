import { Modifier } from "@discordx/internal";
import { DApplicationCommand, DComponentButton, DComponentSelectMenu, DDiscord, DGuard, DOn, DSimpleCommand, MetadataStorage, } from "../../index.js";
/**
 * Define guard aka middleware for your application command, simple command, events, select menu, button
 * @param fns array of guards
 * ___
 * [View Documentation](https://discord-ts.js.org/docs/decorators/general/guard)
 * @category Decorator
 */
// eslint-disable-next-line @typescript-eslint/no-explicit-any
export function Guard(...fns) {
    return function (target, key, descriptor) {
        const guards = fns.map((fn) => {
            return DGuard.create(fn).decorateUnknown(target, key, descriptor);
        });
        MetadataStorage.instance.addModifier(Modifier.create((original) => {
            original.guards = guards;
        }, DComponentSelectMenu, DComponentButton, DApplicationCommand, DSimpleCommand, DOn, DDiscord).decorateUnknown(target, key, descriptor));
    };
}
//# sourceMappingURL=Guard.js.map